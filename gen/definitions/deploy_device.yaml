---
name: Deployment
rest_endpoint: /api/fmc_config/v1/domain/{DOMAIN_UUID}/deployment/deploymentrequests
no_data_source: true
no_import: true
no_delete: true
doc_category: Deployment
test_tags: [TF_VAR_timestamp, TF_VAR_device_id_list]
attributes:
  - model_name: type
    type: String
    value: "DeploymentRequest"
  - model_name: version
    type: String
    description: Version to which the deployment should be done. By default set to current unix timestamp.
    example: "1457566762351"
    test_value: var.timestamp
  - model_name: forceDeploy
    type: Bool
    description: Force deployment (even if there are no configuration changes).
    exclude_example: true
    exclude_test: true
  - model_name: ignoreWarning
    type: Bool
    value: "true"
  - model_name: deviceList
    type: List
    description: List of device ids to be deployed.
    mandatory: true
    element_type: String
    example: 2fe9063e-8bd5-11ef-9475-e4aeac78cf37
    test_value: var.device_id_list
  - model_name: deploymentNote
    type: String
    description: User note related to deployment.
    example: "Deployment note"
    exclude_test: true
  # - model_name: save
  #   description: "This attribute is only used internally"
  #   type: Bool
  #   value: "true"
# test_prerequisites: |-
#   variable "timestamp" { default = null } // tests will set $TF_VAR_timestamp
#   variable "device_id_list" {             // tests will set $TF_VAR_device_id_list
#     type = list(string)
#     default = null
#   }
